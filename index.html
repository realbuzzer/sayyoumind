<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jersey+25&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Jersey+25&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Jersey+10&family=Jersey+25&display=swap" rel="stylesheet">
    

    <link rel="stylesheet" href="style.css">

    <title>SayYourMind!</title>
    <link rel="icon" href="logo.png">
</head>
<body>
    <div class="mid" align="center">
        <h1>Say Whats On Your Mind Without Actually Saying!</h1>
        <input type="text" name="writeName" id="writeName" placeholder="You Name">
        <input type="text" name="stdName" id="stdName" placeholder="Student Name(To Send)">
        <input type="text" name="message" id="message" placeholder="Your Message">
        <input type="submit" value="submit" id="submit">
    </div>
    <script type="module">
        
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
        import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyA2NWopVbC30fVMEi2FAqwcfrf5TaJ39qI",
            authDomain: "sayyourmind-13542.firebaseapp.com",
            databaseURL: "https://sayyourmind-13542-default-rtdb.firebaseio.com",
            projectId: "sayyourmind-13542",
            storageBucket: "sayyourmind-13542.appspot.com",
            messagingSenderId: "64566330399",
            appId: "1:64566330399:web:4db8aa731f95a368b4012a"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);

        const db = getDatabase(app);

        document.getElementById("submit").addEventListener('click', function(e){
            e.preventDefault();

            set(ref(db, 'user/' + document.getElementById("writeName").value),
            {
                writer: document.getElementById("writeName").value,
                student: document.getElementById("stdName").value,
                message: document.getElementById("message").value
            });
            alert("Success!");
        })
    </script>
</body>
</html>